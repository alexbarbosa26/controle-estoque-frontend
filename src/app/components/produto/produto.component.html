<div class="box box-primary" style="max-width: 600px;">
  <div class="box-header with-border">
    <h3 class="box-title">Cadastrar Produtos</h3>

    <form [formGroup]="formulario" class="form-horizontal" (ngSubmit)="salvar(); $event.preventDefault()" style="padding: 10px">

      <div class="box-body">

        <div [ngClass]="{'form-group': true, 'has-error': (formulario.controls.nome.errors && formulario.controls.nome.dirty), 'has-success': !formulario.controls.nome.errors}">
          <label class="col-sm-2 control-label" for="nome">Nome: </label>
          <div class="col-sm-10">
            <input formControlName="nome" id="nome" class="form-control" type="text" placeholder="Nome do Produto" autocomplete="off">
            <span class="help-block" *ngIf="formulario.controls.nome.errors && formulario.controls.nome.dirty">Campo
              obrigatório</span>
          </div>
        </div>

        <div [ngClass]="{'form-group': true, 'has-error': (formulario.controls.quantidade.errors && formulario.controls.quantidade.dirty), 'has-success': !formulario.controls.quantidade.errors}">
          <label class="col-sm-2 control-label" for="quantidade">Quantidade: </label>
          <div class="col-sm-10">
            <input formControlName="quantidade" id="quantidade" class="form-control" type="text" placeholder="Quantidade do Produto"
              pKeyFilter="int" autocomplete="off">
            <span class="help-block" *ngIf="formulario.controls.quantidade.errors && formulario.controls.quantidade.dirty">Campo
              obrigatório</span>
          </div>
        </div>

        <div [ngClass]="{'form-group': true, 'has-error': (formulario.controls.codCategoria.errors && formulario.controls.codCategoria.dirty), 'has-success': !formulario.controls.codCategoria.errors}">
          <label class="col-sm-2 control-label" for="categoria">Categoria </label>
          <div class="col-sm-10">
            <select formControlName="codCategoria" id="categoria" class="form-control" data-placeholder="Selecione">
              <option *ngFor="let cat of categoria" [value]="cat.codigo">
                {{cat.nome}}
              </option>
            </select>
          </div>
        </div>

        <div [ngClass]="{'form-group': true, 'has-error': (formulario.controls.codSite.errors && formulario.controls.codSite.dirty), 'has-success': !formulario.controls.codSite.errors}">
          <label class="col-sm-2 control-label" for="site">Site </label>
          <div class="col-sm-10">
            <select formControlName="codSite" id="site" class="form-control">
                <option *ngFor="let s of codSites" [value]="s.codigo">{{s.nome}}</option>
            </select>
          </div>
        </div>

        <div [ngClass]="{'form-group': true, 'has-error': (formulario.controls.imagem.errors && formulario.controls.imagem.dirty), 'has-success': !formulario.controls.imagem.errors}">
          <label class="col-sm-2 control-label" for="imagem">Imagem </label>
          <div class="col-sm-10">
            <p-dropdown id="imagem" placeholder="Escolha uma Imagem" [options]="produtos" filter="true" [style]="{'width':'270px'}" formControlName="imagem" [showClear]="true">
              <ng-template let-item pTemplate="selectedItem">
                <img src="assets/img/{{item.label}}.png" style="width:20px;vertical-align:middle" />
                <span style="vertical-align:middle; margin-left: .5em">{{item.label}}</span>
              </ng-template>
              <ng-template let-prod pTemplate="item">
                <div class="ui-helper-clearfix" style="position: relative;height: 25px;">
                  <img src="assets/img/{{prod.label}}.png" style="width:24px;position:absolute;top:1px;left:5px" />
                  <div style="font-size:14px;float:right;margin-top:4px" >{{prod.label}}</div>
                </div>
              </ng-template>
            </p-dropdown>
          </div>
        </div>

      </div>

      <div class="box-footer">
        <button class="btn btn-primary" type="submit" [disabled]="formulario.invalid">Cadastrar</button>
      </div>
    </form>
  </div>
</div>